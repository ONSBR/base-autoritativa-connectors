{
  "code": "\"use strict\";var cov_2e7ogevmn2=function(){var path=\"/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-connectors/src/connectors/mapa-informacao-connector.js\",hash=\"b6ec3308e8f0f52ee07737124b1613e4ee5dbf7b\",global=new Function('return this')(),gcv=\"__coverage__\",coverageData={path:\"/Users/coichedid/Projetos/BaseAutoritativaAPI/base-autoritativa-connectors/src/connectors/mapa-informacao-connector.js\",statementMap:{\"0\":{start:{line:3,column:0},end:{line:5,column:3}},\"1\":{start:{line:7,column:19},end:{line:7,column:563}},\"2\":{start:{line:7,column:76},end:{line:7,column:347}},\"3\":{start:{line:7,column:134},end:{line:7,column:142}},\"4\":{start:{line:7,column:144},end:{line:7,column:199}},\"5\":{start:{line:7,column:200},end:{line:7,column:231}},\"6\":{start:{line:7,column:232},end:{line:7,column:286}},\"7\":{start:{line:7,column:259},end:{line:7,column:286}},\"8\":{start:{line:7,column:287},end:{line:7,column:345}},\"9\":{start:{line:7,column:350},end:{line:7,column:559}},\"10\":{start:{line:7,column:407},end:{line:7,column:475}},\"11\":{start:{line:7,column:423},end:{line:7,column:475}},\"12\":{start:{line:7,column:476},end:{line:7,column:536}},\"13\":{start:{line:7,column:493},end:{line:7,column:536}},\"14\":{start:{line:7,column:537},end:{line:7,column:556}},\"15\":{start:{line:9,column:22},end:{line:9,column:49}},\"16\":{start:{line:11,column:50},end:{line:11,column:151}},\"17\":{start:{line:11,column:92},end:{line:11,column:149}},\"18\":{start:{line:13,column:13},end:{line:13,column:41}},\"19\":{start:{line:15,column:21},end:{line:20,column:1}},\"20\":{start:{line:26,column:2},end:{line:26,column:82}},\"21\":{start:{line:37,column:23},end:{line:37,column:32}},\"22\":{start:{line:38,column:2},end:{line:43,column:3}},\"23\":{start:{line:39,column:4},end:{line:42,column:5}},\"24\":{start:{line:40,column:18},end:{line:40,column:38}},\"25\":{start:{line:41,column:6},end:{line:41,column:72}},\"26\":{start:{line:44,column:13},end:{line:53,column:3}},\"27\":{start:{line:54,column:2},end:{line:54,column:72}},\"28\":{start:{line:54,column:28},end:{line:54,column:72}},\"29\":{start:{line:55,column:2},end:{line:55,column:14}},\"30\":{start:{line:65,column:16},end:{line:65,column:36}},\"31\":{start:{line:66,column:22},end:{line:66,column:24}},\"32\":{start:{line:67,column:2},end:{line:75,column:5}},\"33\":{start:{line:68,column:4},end:{line:74,column:5}},\"34\":{start:{line:68,column:23},end:{line:68,column:71}},\"35\":{start:{line:69,column:6},end:{line:69,column:48}},\"36\":{start:{line:69,column:41},end:{line:69,column:48}},\"37\":{start:{line:70,column:18},end:{line:70,column:32}},\"38\":{start:{line:71,column:6},end:{line:71,column:42}},\"39\":{start:{line:72,column:6},end:{line:72,column:32}},\"40\":{start:{line:73,column:6},end:{line:73,column:13}},\"41\":{start:{line:76,column:2},end:{line:76,column:23}},\"42\":{start:{line:86,column:2},end:{line:86,column:57}},\"43\":{start:{line:86,column:45},end:{line:86,column:57}},\"44\":{start:{line:87,column:22},end:{line:87,column:27}},\"45\":{start:{line:88,column:16},end:{line:88,column:20}},\"46\":{start:{line:89,column:2},end:{line:92,column:3}},\"47\":{start:{line:89,column:43},end:{line:89,column:79}},\"48\":{start:{line:90,column:4},end:{line:90,column:40}},\"49\":{start:{line:91,column:4},end:{line:91,column:34}},\"50\":{start:{line:93,column:2},end:{line:93,column:80}},\"51\":{start:{line:108,column:2},end:{line:122,column:5}},\"52\":{start:{line:109,column:22},end:{line:109,column:75}},\"53\":{start:{line:110,column:4},end:{line:121,column:7}},\"54\":{start:{line:111,column:6},end:{line:120,column:7}},\"55\":{start:{line:112,column:8},end:{line:112,column:28}},\"56\":{start:{line:114,column:8},end:{line:119,column:9}},\"57\":{start:{line:115,column:10},end:{line:115,column:22}},\"58\":{start:{line:117,column:27},end:{line:117,column:61}},\"59\":{start:{line:118,column:10},end:{line:118,column:30}},\"60\":{start:{line:130,column:30},end:{line:224,column:3}},\"61\":{start:{line:132,column:4},end:{line:132,column:51}},\"62\":{start:{line:134,column:4},end:{line:134,column:41}},\"63\":{start:{line:135,column:4},end:{line:135,column:27}},\"64\":{start:{line:136,column:4},end:{line:136,column:35}},\"65\":{start:{line:145,column:2},end:{line:221,column:6}},\"66\":{start:{line:148,column:22},end:{line:148,column:51}},\"67\":{start:{line:149,column:6},end:{line:151,column:10}},\"68\":{start:{line:150,column:8},end:{line:150,column:115}},\"69\":{start:{line:163,column:6},end:{line:165,column:9}},\"70\":{start:{line:163,column:43},end:{line:165,column:9}},\"71\":{start:{line:164,column:8},end:{line:164,column:42}},\"72\":{start:{line:166,column:22},end:{line:166,column:43}},\"73\":{start:{line:167,column:22},end:{line:167,column:50}},\"74\":{start:{line:168,column:6},end:{line:170,column:10}},\"75\":{start:{line:169,column:8},end:{line:169,column:115}},\"76\":{start:{line:182,column:6},end:{line:184,column:9}},\"77\":{start:{line:182,column:43},end:{line:184,column:9}},\"78\":{start:{line:183,column:8},end:{line:183,column:42}},\"79\":{start:{line:185,column:22},end:{line:185,column:43}},\"80\":{start:{line:186,column:22},end:{line:186,column:57}},\"81\":{start:{line:187,column:6},end:{line:189,column:10}},\"82\":{start:{line:188,column:8},end:{line:188,column:115}},\"83\":{start:{line:201,column:6},end:{line:203,column:9}},\"84\":{start:{line:201,column:39},end:{line:203,column:9}},\"85\":{start:{line:202,column:8},end:{line:202,column:42}},\"86\":{start:{line:204,column:22},end:{line:204,column:62}},\"87\":{start:{line:205,column:6},end:{line:219,column:9}},\"88\":{start:{line:206,column:8},end:{line:206,column:115}},\"89\":{start:{line:208,column:8},end:{line:217,column:9}},\"90\":{start:{line:209,column:22},end:{line:215,column:11}},\"91\":{start:{line:216,column:10},end:{line:216,column:36}},\"92\":{start:{line:218,column:8},end:{line:218,column:29}},\"93\":{start:{line:223,column:2},end:{line:223,column:33}},\"94\":{start:{line:226,column:0},end:{line:226,column:42}}},fnMap:{\"0\":{name:\"(anonymous_0)\",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},\"1\":{name:\"defineProperties\",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},\"2\":{name:\"(anonymous_2)\",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},\"3\":{name:\"_classCallCheck\",decl:{start:{line:11,column:9},end:{line:11,column:24}},loc:{start:{line:11,column:48},end:{line:11,column:153}},line:11},\"4\":{name:\"_registerMethods\",decl:{start:{line:25,column:9},end:{line:25,column:25}},loc:{start:{line:25,column:35},end:{line:27,column:1}},line:25},\"5\":{name:\"_getArguments\",decl:{start:{line:36,column:9},end:{line:36,column:22}},loc:{start:{line:36,column:64},end:{line:56,column:1}},line:36},\"6\":{name:\"_parseResults\",decl:{start:{line:64,column:9},end:{line:64,column:22}},loc:{start:{line:64,column:44},end:{line:77,column:1}},line:64},\"7\":{name:\"(anonymous_7)\",decl:{start:{line:67,column:14},end:{line:67,column:15}},loc:{start:{line:67,column:27},end:{line:75,column:3}},line:67},\"8\":{name:\"_validateResults\",decl:{start:{line:85,column:9},end:{line:85,column:25}},loc:{start:{line:85,column:44},end:{line:94,column:1}},line:85},\"9\":{name:\"_fetchResults\",decl:{start:{line:107,column:9},end:{line:107,column:22}},loc:{start:{line:107,column:104},end:{line:123,column:1}},line:107},\"10\":{name:\"(anonymous_10)\",decl:{start:{line:108,column:21},end:{line:108,column:22}},loc:{start:{line:108,column:48},end:{line:122,column:3}},line:108},\"11\":{name:\"(anonymous_11)\",decl:{start:{line:110,column:40},end:{line:110,column:41}},loc:{start:{line:110,column:66},end:{line:121,column:5}},line:110},\"12\":{name:\"(anonymous_12)\",decl:{start:{line:130,column:30},end:{line:130,column:31}},loc:{start:{line:130,column:42},end:{line:224,column:1}},line:130},\"13\":{name:\"MapaInformacaoConnector\",decl:{start:{line:131,column:11},end:{line:131,column:34}},loc:{start:{line:131,column:60},end:{line:137,column:3}},line:131},\"14\":{name:\"getAllSistemas\",decl:{start:{line:147,column:20},end:{line:147,column:34}},loc:{start:{line:147,column:37},end:{line:152,column:5}},line:147},\"15\":{name:\"(anonymous_15)\",decl:{start:{line:149,column:77},end:{line:149,column:78}},loc:{start:{line:149,column:93},end:{line:151,column:7}},line:149},\"16\":{name:\"getSistema\",decl:{start:{line:162,column:20},end:{line:162,column:30}},loc:{start:{line:162,column:40},end:{line:171,column:5}},line:162},\"17\":{name:\"(anonymous_17)\",decl:{start:{line:163,column:62},end:{line:163,column:63}},loc:{start:{line:163,column:89},end:{line:165,column:7}},line:163},\"18\":{name:\"(anonymous_18)\",decl:{start:{line:168,column:101},end:{line:168,column:102}},loc:{start:{line:168,column:117},end:{line:170,column:7}},line:168},\"19\":{name:\"getAllSistemaDbUsers\",decl:{start:{line:181,column:20},end:{line:181,column:40}},loc:{start:{line:181,column:50},end:{line:190,column:5}},line:181},\"20\":{name:\"(anonymous_20)\",decl:{start:{line:182,column:62},end:{line:182,column:63}},loc:{start:{line:182,column:89},end:{line:184,column:7}},line:182},\"21\":{name:\"(anonymous_21)\",decl:{start:{line:187,column:101},end:{line:187,column:102}},loc:{start:{line:187,column:117},end:{line:189,column:7}},line:187},\"22\":{name:\"getTablesReadByUser\",decl:{start:{line:200,column:20},end:{line:200,column:39}},loc:{start:{line:200,column:47},end:{line:220,column:5}},line:200},\"23\":{name:\"(anonymous_23)\",decl:{start:{line:201,column:58},end:{line:201,column:59}},loc:{start:{line:201,column:85},end:{line:203,column:7}},line:201},\"24\":{name:\"(anonymous_24)\",decl:{start:{line:205,column:97},end:{line:205,column:98}},loc:{start:{line:205,column:113},end:{line:207,column:7}},line:205},\"25\":{name:\"(anonymous_25)\",decl:{start:{line:207,column:10},end:{line:207,column:11}},loc:{start:{line:207,column:38},end:{line:219,column:7}},line:207}},branchMap:{\"0\":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:\"binary-expr\",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},\"1\":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:\"if\",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},\"2\":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:\"if\",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},\"3\":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:\"if\",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},\"4\":{loc:{start:{line:11,column:50},end:{line:11,column:151}},type:\"if\",locations:[{start:{line:11,column:50},end:{line:11,column:151}},{start:{line:11,column:50},end:{line:11,column:151}}],line:11},\"5\":{loc:{start:{line:38,column:2},end:{line:43,column:3}},type:\"if\",locations:[{start:{line:38,column:2},end:{line:43,column:3}},{start:{line:38,column:2},end:{line:43,column:3}}],line:38},\"6\":{loc:{start:{line:54,column:2},end:{line:54,column:72}},type:\"if\",locations:[{start:{line:54,column:2},end:{line:54,column:72}},{start:{line:54,column:2},end:{line:54,column:72}}],line:54},\"7\":{loc:{start:{line:68,column:4},end:{line:74,column:5}},type:\"if\",locations:[{start:{line:68,column:4},end:{line:74,column:5}},{start:{line:68,column:4},end:{line:74,column:5}}],line:68},\"8\":{loc:{start:{line:69,column:6},end:{line:69,column:48}},type:\"if\",locations:[{start:{line:69,column:6},end:{line:69,column:48}},{start:{line:69,column:6},end:{line:69,column:48}}],line:69},\"9\":{loc:{start:{line:69,column:10},end:{line:69,column:39}},type:\"binary-expr\",locations:[{start:{line:69,column:10},end:{line:69,column:17}},{start:{line:69,column:21},end:{line:69,column:39}}],line:69},\"10\":{loc:{start:{line:86,column:2},end:{line:86,column:57}},type:\"if\",locations:[{start:{line:86,column:2},end:{line:86,column:57}},{start:{line:86,column:2},end:{line:86,column:57}}],line:86},\"11\":{loc:{start:{line:86,column:6},end:{line:86,column:43}},type:\"binary-expr\",locations:[{start:{line:86,column:6},end:{line:86,column:17}},{start:{line:86,column:21},end:{line:86,column:43}}],line:86},\"12\":{loc:{start:{line:89,column:2},end:{line:92,column:3}},type:\"if\",locations:[{start:{line:89,column:2},end:{line:92,column:3}},{start:{line:89,column:2},end:{line:92,column:3}}],line:89},\"13\":{loc:{start:{line:93,column:9},end:{line:93,column:79}},type:\"cond-expr\",locations:[{start:{line:93,column:25},end:{line:93,column:71}},{start:{line:93,column:74},end:{line:93,column:79}}],line:93},\"14\":{loc:{start:{line:111,column:6},end:{line:120,column:7}},type:\"if\",locations:[{start:{line:111,column:6},end:{line:120,column:7}},{start:{line:111,column:6},end:{line:120,column:7}}],line:111},\"15\":{loc:{start:{line:111,column:10},end:{line:111,column:47}},type:\"binary-expr\",locations:[{start:{line:111,column:10},end:{line:111,column:21}},{start:{line:111,column:25},end:{line:111,column:47}}],line:111},\"16\":{loc:{start:{line:114,column:8},end:{line:119,column:9}},type:\"if\",locations:[{start:{line:114,column:8},end:{line:119,column:9}},{start:{line:114,column:8},end:{line:119,column:9}}],line:114},\"17\":{loc:{start:{line:114,column:12},end:{line:114,column:56}},type:\"binary-expr\",locations:[{start:{line:114,column:12},end:{line:114,column:17}},{start:{line:114,column:21},end:{line:114,column:56}}],line:114},\"18\":{loc:{start:{line:150,column:15},end:{line:150,column:114}},type:\"binary-expr\",locations:[{start:{line:150,column:15},end:{line:150,column:27}},{start:{line:150,column:31},end:{line:150,column:55}},{start:{line:150,column:59},end:{line:150,column:79}},{start:{line:150,column:83},end:{line:150,column:114}}],line:150},\"19\":{loc:{start:{line:163,column:6},end:{line:165,column:9}},type:\"if\",locations:[{start:{line:163,column:6},end:{line:165,column:9}},{start:{line:163,column:6},end:{line:165,column:9}}],line:163},\"20\":{loc:{start:{line:163,column:10},end:{line:163,column:41}},type:\"binary-expr\",locations:[{start:{line:163,column:10},end:{line:163,column:18}},{start:{line:163,column:22},end:{line:163,column:41}}],line:163},\"21\":{loc:{start:{line:169,column:15},end:{line:169,column:114}},type:\"binary-expr\",locations:[{start:{line:169,column:15},end:{line:169,column:27}},{start:{line:169,column:31},end:{line:169,column:55}},{start:{line:169,column:59},end:{line:169,column:79}},{start:{line:169,column:83},end:{line:169,column:114}}],line:169},\"22\":{loc:{start:{line:182,column:6},end:{line:184,column:9}},type:\"if\",locations:[{start:{line:182,column:6},end:{line:184,column:9}},{start:{line:182,column:6},end:{line:184,column:9}}],line:182},\"23\":{loc:{start:{line:182,column:10},end:{line:182,column:41}},type:\"binary-expr\",locations:[{start:{line:182,column:10},end:{line:182,column:18}},{start:{line:182,column:22},end:{line:182,column:41}}],line:182},\"24\":{loc:{start:{line:188,column:15},end:{line:188,column:114}},type:\"binary-expr\",locations:[{start:{line:188,column:15},end:{line:188,column:27}},{start:{line:188,column:31},end:{line:188,column:55}},{start:{line:188,column:59},end:{line:188,column:79}},{start:{line:188,column:83},end:{line:188,column:114}}],line:188},\"25\":{loc:{start:{line:201,column:6},end:{line:203,column:9}},type:\"if\",locations:[{start:{line:201,column:6},end:{line:203,column:9}},{start:{line:201,column:6},end:{line:203,column:9}}],line:201},\"26\":{loc:{start:{line:201,column:10},end:{line:201,column:37}},type:\"binary-expr\",locations:[{start:{line:201,column:10},end:{line:201,column:16}},{start:{line:201,column:20},end:{line:201,column:37}}],line:201},\"27\":{loc:{start:{line:206,column:15},end:{line:206,column:114}},type:\"binary-expr\",locations:[{start:{line:206,column:15},end:{line:206,column:27}},{start:{line:206,column:31},end:{line:206,column:55}},{start:{line:206,column:59},end:{line:206,column:79}},{start:{line:206,column:83},end:{line:206,column:114}}],line:206},\"28\":{loc:{start:{line:208,column:8},end:{line:217,column:9}},type:\"if\",locations:[{start:{line:208,column:8},end:{line:217,column:9}},{start:{line:208,column:8},end:{line:217,column:9}}],line:208},\"29\":{loc:{start:{line:208,column:12},end:{line:208,column:40}},type:\"binary-expr\",locations:[{start:{line:208,column:12},end:{line:208,column:18}},{start:{line:208,column:22},end:{line:208,column:40}}],line:208}},s:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0,\"21\":0,\"22\":0,\"23\":0,\"24\":0,\"25\":0,\"26\":0,\"27\":0,\"28\":0,\"29\":0,\"30\":0,\"31\":0,\"32\":0,\"33\":0,\"34\":0,\"35\":0,\"36\":0,\"37\":0,\"38\":0,\"39\":0,\"40\":0,\"41\":0,\"42\":0,\"43\":0,\"44\":0,\"45\":0,\"46\":0,\"47\":0,\"48\":0,\"49\":0,\"50\":0,\"51\":0,\"52\":0,\"53\":0,\"54\":0,\"55\":0,\"56\":0,\"57\":0,\"58\":0,\"59\":0,\"60\":0,\"61\":0,\"62\":0,\"63\":0,\"64\":0,\"65\":0,\"66\":0,\"67\":0,\"68\":0,\"69\":0,\"70\":0,\"71\":0,\"72\":0,\"73\":0,\"74\":0,\"75\":0,\"76\":0,\"77\":0,\"78\":0,\"79\":0,\"80\":0,\"81\":0,\"82\":0,\"83\":0,\"84\":0,\"85\":0,\"86\":0,\"87\":0,\"88\":0,\"89\":0,\"90\":0,\"91\":0,\"92\":0,\"93\":0,\"94\":0},f:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0,\"21\":0,\"22\":0,\"23\":0,\"24\":0,\"25\":0},b:{\"0\":[0,0],\"1\":[0,0],\"2\":[0,0],\"3\":[0,0],\"4\":[0,0],\"5\":[0,0],\"6\":[0,0],\"7\":[0,0],\"8\":[0,0],\"9\":[0,0],\"10\":[0,0],\"11\":[0,0],\"12\":[0,0],\"13\":[0,0],\"14\":[0,0],\"15\":[0,0],\"16\":[0,0],\"17\":[0,0],\"18\":[0,0,0,0],\"19\":[0,0],\"20\":[0,0],\"21\":[0,0,0,0],\"22\":[0,0],\"23\":[0,0],\"24\":[0,0,0,0],\"25\":[0,0],\"26\":[0,0],\"27\":[0,0,0,0],\"28\":[0,0],\"29\":[0,0]},_coverageSchema:\"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c\"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();++cov_2e7ogevmn2.s[0];Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=(++cov_2e7ogevmn2.s[1],function(){++cov_2e7ogevmn2.f[0];function defineProperties(target,props){++cov_2e7ogevmn2.f[1];++cov_2e7ogevmn2.s[2];for(var i=0;i<props.length;i++){var descriptor=(++cov_2e7ogevmn2.s[3],props[i]);++cov_2e7ogevmn2.s[4];descriptor.enumerable=(++cov_2e7ogevmn2.b[0][0],descriptor.enumerable)||(++cov_2e7ogevmn2.b[0][1],false);++cov_2e7ogevmn2.s[5];descriptor.configurable=true;++cov_2e7ogevmn2.s[6];if(\"value\"in descriptor){++cov_2e7ogevmn2.b[1][0];++cov_2e7ogevmn2.s[7];descriptor.writable=true;}else{++cov_2e7ogevmn2.b[1][1];}++cov_2e7ogevmn2.s[8];Object.defineProperty(target,descriptor.key,descriptor);}}++cov_2e7ogevmn2.s[9];return function(Constructor,protoProps,staticProps){++cov_2e7ogevmn2.f[2];++cov_2e7ogevmn2.s[10];if(protoProps){++cov_2e7ogevmn2.b[2][0];++cov_2e7ogevmn2.s[11];defineProperties(Constructor.prototype,protoProps);}else{++cov_2e7ogevmn2.b[2][1];}++cov_2e7ogevmn2.s[12];if(staticProps){++cov_2e7ogevmn2.b[3][0];++cov_2e7ogevmn2.s[13];defineProperties(Constructor,staticProps);}else{++cov_2e7ogevmn2.b[3][1];}++cov_2e7ogevmn2.s[14];return Constructor;};}());var _nodeRestClient=(++cov_2e7ogevmn2.s[15],require(\"node-rest-client\"));function _classCallCheck(instance,Constructor){++cov_2e7ogevmn2.f[3];++cov_2e7ogevmn2.s[16];if(!(instance instanceof Constructor)){++cov_2e7ogevmn2.b[4][0];++cov_2e7ogevmn2.s[17];throw new TypeError(\"Cannot call a class as a function\");}else{++cov_2e7ogevmn2.b[4][1];}}var client=(++cov_2e7ogevmn2.s[18],new _nodeRestClient.Client());var baseStatements=(++cov_2e7ogevmn2.s[19],{\"allSistemas\":\"MATCH (v:`Sistema`) RETURN v ORDER BY v. `Identificador` SKIP { s } LIMIT { l }\",\"oneSistema\":\"MATCH (v:`Sistema`) WHERE (lower(v.`Identificador`) CONTAINS '_SISTEMA_' OR lower(v.`Código`) CONTAINS '_SISTEMA_') RETURN v ORDER BY v.`Identificador` SKIP { s } LIMIT { l }\",\"allSistemaDBUsers\":\"MATCH (v:`Login`) WHERE (lower(v.`Identificador`) CONTAINS '_SISTEMA_' OR lower(v.`Código`) CONTAINS '_SISTEMA_') RETURN v ORDER BY v.`Identificador` SKIP { s } LIMIT { l }\",\"allTablesReadBySistema\":\"MATCH (vFrom)-[r]->(vTo) WHERE (id(vFrom) IN [_CODIGOS_] OR id(vTo) IN [_CODIGOS_]) AND type(r) = 'é uma Tabela com leitura pelo Login' RETURN id(vFrom), vFrom.`Identificador`, type(r), id(vTo), vTo.`Identificador` ORDER BY r.type, vFrom.`Identificador`, vTo.`Identificador` SKIP { s } LIMIT { l }\"});/**\n * Register methods exposed on Neo4J\n * @return {void}\n */function _registerMethods(baseURL){++cov_2e7ogevmn2.f[4];++cov_2e7ogevmn2.s[20];client.registerMethod('query',baseURL+'/db/data/transaction/commit','POST');}/**\n * Prepare arguments for a POST request\n * @param  {string} statement Query statement to be passed to Neo4J\n * @param  {object} substtutions Key/Value object with query substtutions\n * @param  {string} authentication token authentication\n * @return {object}           Argument object\n */function _getArguments(statement,substtutions,authentication){++cov_2e7ogevmn2.f[5];var queryStatement=(++cov_2e7ogevmn2.s[21],statement);++cov_2e7ogevmn2.s[22];if(substtutions){++cov_2e7ogevmn2.b[5][0];++cov_2e7ogevmn2.s[23];for(var key in substtutions){var regex=(++cov_2e7ogevmn2.s[24],new RegExp(key,'g'));++cov_2e7ogevmn2.s[25];queryStatement=queryStatement.replace(regex,substtutions[key]);}}else{++cov_2e7ogevmn2.b[5][1];}var args=(++cov_2e7ogevmn2.s[26],{data:{statements:[{statement:queryStatement,parameters:{s:0,l:10000},resultDataContents:[\"REST\"]}]},headers:{\"Content-Type\":\"application/json\"}});++cov_2e7ogevmn2.s[27];if(authentication!=\"\"){++cov_2e7ogevmn2.b[6][0];++cov_2e7ogevmn2.s[28];args.headers.Authorization=authentication;}else{++cov_2e7ogevmn2.b[6][1];}++cov_2e7ogevmn2.s[29];return args;}/**\n * base function to parse results from Neo4J\n * @param  {object} data          Neo4J response data\n * @param  {function} parseFunction custom parse function\n * @return {Array[object]}               array of parsed results\n */function _parseResults(data,parseFunction){++cov_2e7ogevmn2.f[6];var results=(++cov_2e7ogevmn2.s[30],data.results[0].data);var parsedResults=(++cov_2e7ogevmn2.s[31],[]);++cov_2e7ogevmn2.s[32];results.map(function(r){++cov_2e7ogevmn2.f[7];++cov_2e7ogevmn2.s[33];if(parseFunction){++cov_2e7ogevmn2.b[7][0];++cov_2e7ogevmn2.s[34];parsedResults=parseFunction(r,parsedResults);}else{++cov_2e7ogevmn2.b[7][1];++cov_2e7ogevmn2.s[35];if((++cov_2e7ogevmn2.b[9][0],!r.rest)||(++cov_2e7ogevmn2.b[9][1],r.rest.length!=1)){++cov_2e7ogevmn2.b[8][0];++cov_2e7ogevmn2.s[36];return;}else{++cov_2e7ogevmn2.b[8][1];}var rData=(++cov_2e7ogevmn2.s[37],r.rest[0].data);++cov_2e7ogevmn2.s[38];rData['id']=r.rest[0].metadata.id;++cov_2e7ogevmn2.s[39];parsedResults.push(rData);++cov_2e7ogevmn2.s[40];return;}});++cov_2e7ogevmn2.s[41];return parsedResults;}/**\n * recursive validation of returned data\n * @param  {object} data       data returned from Neo4J\n * @param  {Array[string] || function} attributes hierarchal names to be used to check a valid response data or validation function\n * @return {boolean}            is Valid data\n */function _validateResults(data,attributes){++cov_2e7ogevmn2.f[8];++cov_2e7ogevmn2.s[42];if((++cov_2e7ogevmn2.b[11][0],!attributes)||(++cov_2e7ogevmn2.b[11][1],attributes.length==0)){++cov_2e7ogevmn2.b[10][0];++cov_2e7ogevmn2.s[43];return true;}else{++cov_2e7ogevmn2.b[10][1];}var validPosition=(++cov_2e7ogevmn2.s[44],false);var newData=(++cov_2e7ogevmn2.s[45],data);++cov_2e7ogevmn2.s[46];if(typeof attributes[0]==='function'){++cov_2e7ogevmn2.b[12][0];++cov_2e7ogevmn2.s[47];validPosition=attributes[0](data);}else{++cov_2e7ogevmn2.b[12][1];++cov_2e7ogevmn2.s[48];validPosition=data[attributes[0]];++cov_2e7ogevmn2.s[49];newData=data[attributes[0]];}++cov_2e7ogevmn2.s[50];return validPosition?(++cov_2e7ogevmn2.b[13][0],_validateResults(newData,attributes.slice(1))):(++cov_2e7ogevmn2.b[13][1],false);}/**\n * Base function to connect to Neo4J and get results\n * @param  {string} action        name of remote method registered on client\n * @param  {object} args          parameters to be passed on query string\n * @param  {object} payload       data to be serialized and passed on a POST action\n * @param  {object} payloadParams Key/Value object with query substtutions\n * @param  {string} authentication token authentication\n * @param  {Array[string]} validation    hierarchal names to be used to check a valid response data\n * @param  {function} parseFunction Used to parse returned data. If null, raw data is returned\n * @return {Promise}               a Promise to requested method results\n */function _fetchResults(action,args,payload,payloadParams,authentication,validation,parseFunction){++cov_2e7ogevmn2.f[9];++cov_2e7ogevmn2.s[51];return new Promise(function(resolve,reject){++cov_2e7ogevmn2.f[10];var payloadData=(++cov_2e7ogevmn2.s[52],_getArguments(payload,payloadParams,authentication));++cov_2e7ogevmn2.s[53];client.methods[action](payloadData,function(data,response){++cov_2e7ogevmn2.f[11];++cov_2e7ogevmn2.s[54];if((++cov_2e7ogevmn2.b[15][0],data.errors)&&(++cov_2e7ogevmn2.b[15][1],data.errors.length>0)){++cov_2e7ogevmn2.b[14][0];++cov_2e7ogevmn2.s[55];reject(data.errors);}else{++cov_2e7ogevmn2.b[14][1];++cov_2e7ogevmn2.s[56];if((++cov_2e7ogevmn2.b[17][0],!data)||(++cov_2e7ogevmn2.b[17][1],!_validateResults(data,validation))){++cov_2e7ogevmn2.b[16][0];++cov_2e7ogevmn2.s[57];resolve({});}else{++cov_2e7ogevmn2.b[16][1];var parsedData=(++cov_2e7ogevmn2.s[58],_parseResults(data,parseFunction));++cov_2e7ogevmn2.s[59];resolve(parsedData);}}});});}/**\n * Connector to Mapa da Informacao system\n * @type {class}\n */var MapaInformacaoConnector=(++cov_2e7ogevmn2.s[60],function(){++cov_2e7ogevmn2.f[12];function MapaInformacaoConnector(baseURL,authentication){++cov_2e7ogevmn2.f[13];++cov_2e7ogevmn2.s[61];_classCallCheck(this,MapaInformacaoConnector);++cov_2e7ogevmn2.s[62];this.authentication=authentication;++cov_2e7ogevmn2.s[63];this.baseURL=baseURL;++cov_2e7ogevmn2.s[64];_registerMethods(this.baseURL);}/**\n   * list all sistemas of Mapa da Informação\n   * @return {Promise} promise to requested method results\n   */++cov_2e7ogevmn2.s[65];_createClass(MapaInformacaoConnector,[{key:\"getAllSistemas\",value:function getAllSistemas(){++cov_2e7ogevmn2.f[14];var statement=(++cov_2e7ogevmn2.s[66],baseStatements['allSistemas']);++cov_2e7ogevmn2.s[67];return _fetchResults('query',{},statement,{},this.authentication,[function(data){++cov_2e7ogevmn2.f[15];++cov_2e7ogevmn2.s[68];return(++cov_2e7ogevmn2.b[18][0],data.results)&&(++cov_2e7ogevmn2.b[18][1],data.results.length==1)&&(++cov_2e7ogevmn2.b[18][2],data.results[0].data)&&(++cov_2e7ogevmn2.b[18][3],data.results[0].data.length>0);}]);}/**\n     * get just one sistema from Mapa da Informação based on Sistema name\n     * @param  {string} sistema Name of sistema\n     * @return {Promise}         promise to requested method results\n     */},{key:\"getSistema\",value:function getSistema(sistema){++cov_2e7ogevmn2.f[16];++cov_2e7ogevmn2.s[69];if((++cov_2e7ogevmn2.b[20][0],!sistema)||(++cov_2e7ogevmn2.b[20][1],sistema.length==0)){++cov_2e7ogevmn2.b[19][0];++cov_2e7ogevmn2.s[70];return new Promise(function(resolve,reject){++cov_2e7ogevmn2.f[17];++cov_2e7ogevmn2.s[71];return reject('Invalid argument');});}else{++cov_2e7ogevmn2.b[19][1];}var lwSistema=(++cov_2e7ogevmn2.s[72],sistema.toLowerCase());var statement=(++cov_2e7ogevmn2.s[73],baseStatements['oneSistema']);++cov_2e7ogevmn2.s[74];return _fetchResults('query',{},statement,{'_SISTEMA_':lwSistema},this.authentication,[function(data){++cov_2e7ogevmn2.f[18];++cov_2e7ogevmn2.s[75];return(++cov_2e7ogevmn2.b[21][0],data.results)&&(++cov_2e7ogevmn2.b[21][1],data.results.length==1)&&(++cov_2e7ogevmn2.b[21][2],data.results[0].data)&&(++cov_2e7ogevmn2.b[21][3],data.results[0].data.length>0);}]);}/**\n     * get all database users of a sistema\n     * @param  {string} sistema Name of sistema\n     * @return {Promise}         primise to requested method results\n     */},{key:\"getAllSistemaDbUsers\",value:function getAllSistemaDbUsers(sistema){++cov_2e7ogevmn2.f[19];++cov_2e7ogevmn2.s[76];if((++cov_2e7ogevmn2.b[23][0],!sistema)||(++cov_2e7ogevmn2.b[23][1],sistema.length==0)){++cov_2e7ogevmn2.b[22][0];++cov_2e7ogevmn2.s[77];return new Promise(function(resolve,reject){++cov_2e7ogevmn2.f[20];++cov_2e7ogevmn2.s[78];return reject('Invalid argument');});}else{++cov_2e7ogevmn2.b[22][1];}var lwSistema=(++cov_2e7ogevmn2.s[79],sistema.toLowerCase());var statement=(++cov_2e7ogevmn2.s[80],baseStatements['allSistemaDBUsers']);++cov_2e7ogevmn2.s[81];return _fetchResults('query',{},statement,{'_SISTEMA_':lwSistema},this.authentication,[function(data){++cov_2e7ogevmn2.f[21];++cov_2e7ogevmn2.s[82];return(++cov_2e7ogevmn2.b[24][0],data.results)&&(++cov_2e7ogevmn2.b[24][1],data.results.length==1)&&(++cov_2e7ogevmn2.b[24][2],data.results[0].data)&&(++cov_2e7ogevmn2.b[24][3],data.results[0].data.length>0);}]);}/**\n     * get a list of tables with READ access from a list of users\n     * @param  {Array[string]} users list of users\n     * @return {Promise}         promise of requested method results\n     */},{key:\"getTablesReadByUser\",value:function getTablesReadByUser(users){++cov_2e7ogevmn2.f[22];++cov_2e7ogevmn2.s[83];if((++cov_2e7ogevmn2.b[26][0],!users)||(++cov_2e7ogevmn2.b[26][1],users.length==0)){++cov_2e7ogevmn2.b[25][0];++cov_2e7ogevmn2.s[84];return new Promise(function(resolve,reject){++cov_2e7ogevmn2.f[23];++cov_2e7ogevmn2.s[85];return reject('Invalid argument');});}else{++cov_2e7ogevmn2.b[25][1];}var statement=(++cov_2e7ogevmn2.s[86],baseStatements['allTablesReadBySistema']);++cov_2e7ogevmn2.s[87];return _fetchResults('query',{},statement,{'_CODIGOS_':users},this.authentication,[function(data){++cov_2e7ogevmn2.f[24];++cov_2e7ogevmn2.s[88];return(++cov_2e7ogevmn2.b[27][0],data.results)&&(++cov_2e7ogevmn2.b[27][1],data.results.length==1)&&(++cov_2e7ogevmn2.b[27][2],data.results[0].data)&&(++cov_2e7ogevmn2.b[27][3],data.results[0].data.length>0);}],function(r,parsedResults){++cov_2e7ogevmn2.f[25];++cov_2e7ogevmn2.s[89];if((++cov_2e7ogevmn2.b[29][0],r.rest)&&(++cov_2e7ogevmn2.b[29][1],r.rest.length==5)){++cov_2e7ogevmn2.b[28][0];var rData=(++cov_2e7ogevmn2.s[90],{fromId:r.rest[0],fromIdentificador:r.rest[1],verb:r.rest[2],toId:r.rest[3],toIdentificador:r.rest[4]});++cov_2e7ogevmn2.s[91];parsedResults.push(rData);}else{++cov_2e7ogevmn2.b[28][1];}++cov_2e7ogevmn2.s[92];return parsedResults;});}}]);++cov_2e7ogevmn2.s[93];return MapaInformacaoConnector;}());++cov_2e7ogevmn2.s[94];exports.default=MapaInformacaoConnector;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcGEtaW5mb3JtYWNhby1jb25uZWN0b3IuanMiXSwibmFtZXMiOlsiY2xpZW50IiwiYmFzZVN0YXRlbWVudHMiLCJfcmVnaXN0ZXJNZXRob2RzIiwiYmFzZVVSTCIsInJlZ2lzdGVyTWV0aG9kIiwiX2dldEFyZ3VtZW50cyIsInN0YXRlbWVudCIsInN1YnN0dHV0aW9ucyIsImF1dGhlbnRpY2F0aW9uIiwicXVlcnlTdGF0ZW1lbnQiLCJrZXkiLCJyZWdleCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJhcmdzIiwiZGF0YSIsInN0YXRlbWVudHMiLCJwYXJhbWV0ZXJzIiwicyIsImwiLCJyZXN1bHREYXRhQ29udGVudHMiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsIl9wYXJzZVJlc3VsdHMiLCJwYXJzZUZ1bmN0aW9uIiwicmVzdWx0cyIsInBhcnNlZFJlc3VsdHMiLCJtYXAiLCJyIiwicmVzdCIsImxlbmd0aCIsInJEYXRhIiwibWV0YWRhdGEiLCJpZCIsInB1c2giLCJfdmFsaWRhdGVSZXN1bHRzIiwiYXR0cmlidXRlcyIsInZhbGlkUG9zaXRpb24iLCJuZXdEYXRhIiwic2xpY2UiLCJfZmV0Y2hSZXN1bHRzIiwiYWN0aW9uIiwicGF5bG9hZCIsInBheWxvYWRQYXJhbXMiLCJ2YWxpZGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwYXlsb2FkRGF0YSIsIm1ldGhvZHMiLCJyZXNwb25zZSIsImVycm9ycyIsInBhcnNlZERhdGEiLCJNYXBhSW5mb3JtYWNhb0Nvbm5lY3RvciIsInNpc3RlbWEiLCJsd1Npc3RlbWEiLCJ0b0xvd2VyQ2FzZSIsInVzZXJzIiwiZnJvbUlkIiwiZnJvbUlkZW50aWZpY2Fkb3IiLCJ2ZXJiIiwidG9JZCIsInRvSWRlbnRpZmljYWRvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQUlBLFNBQVMsNEJBQWI7O0FBRUEsSUFBSUMsaUJBQWlCO0FBQ25CLGlCQUFjLGlGQURLO0FBRW5CLGdCQUFhLGdMQUZNO0FBR25CLHVCQUFvQiw4S0FIRDtBQUluQiw0QkFBeUI7QUFKTixDQUFyQjtBQU1BOzs7O0FBSUEsU0FBU0MsZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQW1DO0FBQ2pDSCxTQUFPSSxjQUFQLENBQXNCLE9BQXRCLEVBQStCRCxVQUFVLDZCQUF6QyxFQUF3RSxNQUF4RTtBQUNEOztBQUVEOzs7Ozs7O0FBT0EsU0FBU0UsYUFBVCxDQUF1QkMsU0FBdkIsRUFBa0NDLFlBQWxDLEVBQWdEQyxjQUFoRCxFQUFnRTtBQUM5RCxNQUFJQyxpQkFBaUJILFNBQXJCO0FBQ0EsTUFBSUMsWUFBSixFQUFrQjtBQUNoQixTQUFLLElBQUlHLEdBQVQsSUFBZ0JILFlBQWhCLEVBQThCO0FBQzVCLFVBQUlJLFFBQVEsSUFBSUMsTUFBSixDQUFXRixHQUFYLEVBQWUsR0FBZixDQUFaO0FBQ0FELHVCQUFpQkEsZUFBZUksT0FBZixDQUF1QkYsS0FBdkIsRUFBNkJKLGFBQWFHLEdBQWIsQ0FBN0IsQ0FBakI7QUFDRDtBQUNGO0FBQ0QsTUFBSUksT0FBTztBQUNUQyxVQUFLO0FBQ0hDLGtCQUFXLENBQ1Q7QUFDRVYsbUJBQVVHLGNBRFo7QUFFRVEsb0JBQVcsRUFBQ0MsR0FBRSxDQUFILEVBQUtDLEdBQUUsS0FBUCxFQUZiO0FBR0VDLDRCQUFtQixDQUFDLE1BQUQ7QUFIckIsT0FEUztBQURSLEtBREk7QUFVVEMsYUFBUyxFQUFDLGdCQUFnQixrQkFBakI7QUFWQSxHQUFYO0FBWUEsTUFBSWIsa0JBQWtCLEVBQXRCLEVBQTBCTSxLQUFLTyxPQUFMLENBQWFDLGFBQWIsR0FBNkJkLGNBQTdCO0FBQzFCLFNBQU9NLElBQVA7QUFDRDs7QUFFRDs7Ozs7O0FBTUEsU0FBU1MsYUFBVCxDQUF1QlIsSUFBdkIsRUFBNkJTLGFBQTdCLEVBQTRDO0FBQzFDLE1BQUlDLFVBQVVWLEtBQUtVLE9BQUwsQ0FBYSxDQUFiLEVBQWdCVixJQUE5QjtBQUNBLE1BQUlXLGdCQUFnQixFQUFwQjtBQUNBRCxVQUFRRSxHQUFSLENBQVksVUFBQ0MsQ0FBRCxFQUFLO0FBQ2YsUUFBSUosYUFBSixFQUFtQkUsZ0JBQWdCRixjQUFjSSxDQUFkLEVBQWdCRixhQUFoQixDQUFoQixDQUFuQixLQUNLO0FBQ0gsVUFBSSxDQUFDRSxFQUFFQyxJQUFILElBQVdELEVBQUVDLElBQUYsQ0FBT0MsTUFBUCxJQUFpQixDQUFoQyxFQUFtQztBQUNuQyxVQUFJQyxRQUFRSCxFQUFFQyxJQUFGLENBQU8sQ0FBUCxFQUFVZCxJQUF0QjtBQUNBZ0IsWUFBTSxJQUFOLElBQWNILEVBQUVDLElBQUYsQ0FBTyxDQUFQLEVBQVVHLFFBQVYsQ0FBbUJDLEVBQWpDO0FBQ0FQLG9CQUFjUSxJQUFkLENBQW1CSCxLQUFuQjtBQUNBO0FBQ0Q7QUFDRixHQVREO0FBVUEsU0FBT0wsYUFBUDtBQUNEOztBQUVEOzs7Ozs7QUFNQSxTQUFTUyxnQkFBVCxDQUEwQnBCLElBQTFCLEVBQStCcUIsVUFBL0IsRUFBMkM7QUFDekMsTUFBSSxDQUFDQSxVQUFELElBQWVBLFdBQVdOLE1BQVgsSUFBcUIsQ0FBeEMsRUFBMkMsT0FBTyxJQUFQO0FBQzNDLE1BQUlPLGdCQUFnQixLQUFwQjtBQUNBLE1BQUlDLFVBQVV2QixJQUFkO0FBQ0EsTUFBSSxPQUFPcUIsV0FBVyxDQUFYLENBQVAsS0FBeUIsVUFBN0IsRUFBeUNDLGdCQUFnQkQsV0FBVyxDQUFYLEVBQWNyQixJQUFkLENBQWhCLENBQXpDLEtBQ0s7QUFDSHNCLG9CQUFnQnRCLEtBQUtxQixXQUFXLENBQVgsQ0FBTCxDQUFoQjtBQUNBRSxjQUFVdkIsS0FBS3FCLFdBQVcsQ0FBWCxDQUFMLENBQVY7QUFDRDtBQUNELFNBQU9DLGdCQUFjRixpQkFBaUJHLE9BQWpCLEVBQXlCRixXQUFXRyxLQUFYLENBQWlCLENBQWpCLENBQXpCLENBQWQsR0FBNEQsS0FBbkU7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7QUFXQSxTQUFTQyxhQUFULENBQXVCQyxNQUF2QixFQUErQjNCLElBQS9CLEVBQXFDNEIsT0FBckMsRUFBOENDLGFBQTlDLEVBQTZEbkMsY0FBN0QsRUFBNkVvQyxVQUE3RSxFQUF5RnBCLGFBQXpGLEVBQXdHO0FBQ3RHLFNBQU8sSUFBSXFCLE9BQUosQ0FBYSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdkMsUUFBSUMsY0FBYzNDLGNBQWNxQyxPQUFkLEVBQXNCQyxhQUF0QixFQUFvQ25DLGNBQXBDLENBQWxCO0FBQ0FSLFdBQU9pRCxPQUFQLENBQWVSLE1BQWYsRUFBdUJPLFdBQXZCLEVBQW9DLFVBQUNqQyxJQUFELEVBQU9tQyxRQUFQLEVBQW9CO0FBQ3RELFVBQUluQyxLQUFLb0MsTUFBTCxJQUFlcEMsS0FBS29DLE1BQUwsQ0FBWXJCLE1BQVosR0FBcUIsQ0FBeEMsRUFBMkM7QUFDekNpQixlQUFPaEMsS0FBS29DLE1BQVo7QUFDRCxPQUZELE1BR0s7QUFDSCxZQUFJLENBQUNwQyxJQUFELElBQVMsQ0FBQ29CLGlCQUFpQnBCLElBQWpCLEVBQXNCNkIsVUFBdEIsQ0FBZCxFQUFpRDtBQUMvQ0Usa0JBQVEsRUFBUjtBQUNELFNBRkQsTUFHSztBQUNILGNBQUlNLGFBQWE3QixjQUFjUixJQUFkLEVBQW1CUyxhQUFuQixDQUFqQjtBQUNBc0Isa0JBQVFNLFVBQVI7QUFDRDtBQUNGO0FBQ0YsS0FiRDtBQWNELEdBaEJNLENBQVA7QUFpQkQ7O0FBRUQ7Ozs7O0lBSU1DLHVCO0FBQ0osbUNBQVlsRCxPQUFaLEVBQXFCSyxjQUFyQixFQUFxQztBQUFBOztBQUNuQyxTQUFLQSxjQUFMLEdBQXNCQSxjQUF0QjtBQUNBLFNBQUtMLE9BQUwsR0FBZUEsT0FBZjtBQUNBRCxxQkFBaUIsS0FBS0MsT0FBdEI7QUFDRDs7QUFFRDs7Ozs7Ozs7cUNBSWlCO0FBQ2YsVUFBSUcsWUFBWUwsZUFBZSxhQUFmLENBQWhCO0FBQ0EsYUFBT3VDLGNBQWMsT0FBZCxFQUF1QixFQUF2QixFQUEyQmxDLFNBQTNCLEVBQXNDLEVBQXRDLEVBQTBDLEtBQUtFLGNBQS9DLEVBQStELENBQUMsVUFBQ08sSUFBRCxFQUFVO0FBQUUsZUFBUUEsS0FBS1UsT0FBTCxJQUFnQlYsS0FBS1UsT0FBTCxDQUFhSyxNQUFiLElBQXVCLENBQXZDLElBQTRDZixLQUFLVSxPQUFMLENBQWEsQ0FBYixFQUFnQlYsSUFBNUQsSUFBb0VBLEtBQUtVLE9BQUwsQ0FBYSxDQUFiLEVBQWdCVixJQUFoQixDQUFxQmUsTUFBckIsR0FBOEIsQ0FBMUc7QUFBK0csT0FBNUgsQ0FBL0QsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OzsrQkFLV3dCLE8sRUFBUztBQUNsQixVQUFJLENBQUNBLE9BQUQsSUFBWUEsUUFBUXhCLE1BQVIsSUFBa0IsQ0FBbEMsRUFBcUMsT0FBTyxJQUFJZSxPQUFKLENBQWEsVUFBQ0MsT0FBRCxFQUFTQyxNQUFUO0FBQUEsZUFBb0JBLE9BQU8sa0JBQVAsQ0FBcEI7QUFBQSxPQUFiLENBQVA7QUFDckMsVUFBSVEsWUFBWUQsUUFBUUUsV0FBUixFQUFoQjtBQUNBLFVBQUlsRCxZQUFZTCxlQUFlLFlBQWYsQ0FBaEI7QUFDQSxhQUFPdUMsY0FBYyxPQUFkLEVBQXNCLEVBQXRCLEVBQXlCbEMsU0FBekIsRUFBbUMsRUFBQyxhQUFZaUQsU0FBYixFQUFuQyxFQUEyRCxLQUFLL0MsY0FBaEUsRUFBK0UsQ0FBQyxVQUFDTyxJQUFELEVBQVU7QUFBRSxlQUFRQSxLQUFLVSxPQUFMLElBQWdCVixLQUFLVSxPQUFMLENBQWFLLE1BQWIsSUFBdUIsQ0FBdkMsSUFBNENmLEtBQUtVLE9BQUwsQ0FBYSxDQUFiLEVBQWdCVixJQUE1RCxJQUFvRUEsS0FBS1UsT0FBTCxDQUFhLENBQWIsRUFBZ0JWLElBQWhCLENBQXFCZSxNQUFyQixHQUE4QixDQUExRztBQUErRyxPQUE1SCxDQUEvRSxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3lDQUtxQndCLE8sRUFBUztBQUM1QixVQUFJLENBQUNBLE9BQUQsSUFBWUEsUUFBUXhCLE1BQVIsSUFBa0IsQ0FBbEMsRUFBcUMsT0FBTyxJQUFJZSxPQUFKLENBQWEsVUFBQ0MsT0FBRCxFQUFTQyxNQUFUO0FBQUEsZUFBb0JBLE9BQU8sa0JBQVAsQ0FBcEI7QUFBQSxPQUFiLENBQVA7QUFDckMsVUFBSVEsWUFBWUQsUUFBUUUsV0FBUixFQUFoQjtBQUNBLFVBQUlsRCxZQUFZTCxlQUFlLG1CQUFmLENBQWhCO0FBQ0EsYUFBT3VDLGNBQWMsT0FBZCxFQUFzQixFQUF0QixFQUEwQmxDLFNBQTFCLEVBQXFDLEVBQUMsYUFBYWlELFNBQWQsRUFBckMsRUFBK0QsS0FBSy9DLGNBQXBFLEVBQW9GLENBQUMsVUFBQ08sSUFBRCxFQUFVO0FBQUUsZUFBUUEsS0FBS1UsT0FBTCxJQUFnQlYsS0FBS1UsT0FBTCxDQUFhSyxNQUFiLElBQXVCLENBQXZDLElBQTRDZixLQUFLVSxPQUFMLENBQWEsQ0FBYixFQUFnQlYsSUFBNUQsSUFBb0VBLEtBQUtVLE9BQUwsQ0FBYSxDQUFiLEVBQWdCVixJQUFoQixDQUFxQmUsTUFBckIsR0FBOEIsQ0FBMUc7QUFBK0csT0FBNUgsQ0FBcEYsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozt3Q0FLb0IyQixLLEVBQU87QUFDekIsVUFBSSxDQUFDQSxLQUFELElBQVVBLE1BQU0zQixNQUFOLElBQWdCLENBQTlCLEVBQWlDLE9BQU8sSUFBSWUsT0FBSixDQUFhLFVBQUNDLE9BQUQsRUFBU0MsTUFBVDtBQUFBLGVBQW9CQSxPQUFPLGtCQUFQLENBQXBCO0FBQUEsT0FBYixDQUFQO0FBQ2pDLFVBQUl6QyxZQUFZTCxlQUFlLHdCQUFmLENBQWhCO0FBQ0EsYUFBT3VDLGNBQWMsT0FBZCxFQUFzQixFQUF0QixFQUEwQmxDLFNBQTFCLEVBQXFDLEVBQUMsYUFBYW1ELEtBQWQsRUFBckMsRUFBMkQsS0FBS2pELGNBQWhFLEVBQWdGLENBQUMsVUFBQ08sSUFBRCxFQUFVO0FBQUUsZUFBUUEsS0FBS1UsT0FBTCxJQUFnQlYsS0FBS1UsT0FBTCxDQUFhSyxNQUFiLElBQXVCLENBQXZDLElBQTRDZixLQUFLVSxPQUFMLENBQWEsQ0FBYixFQUFnQlYsSUFBNUQsSUFBb0VBLEtBQUtVLE9BQUwsQ0FBYSxDQUFiLEVBQWdCVixJQUFoQixDQUFxQmUsTUFBckIsR0FBOEIsQ0FBMUc7QUFBK0csT0FBNUgsQ0FBaEYsRUFBK00sVUFBQ0YsQ0FBRCxFQUFHRixhQUFILEVBQXFCO0FBQ3pPLFlBQUlFLEVBQUVDLElBQUYsSUFBVUQsRUFBRUMsSUFBRixDQUFPQyxNQUFQLElBQWlCLENBQS9CLEVBQWtDO0FBQ2hDLGNBQUlDLFFBQVE7QUFDVjJCLG9CQUFPOUIsRUFBRUMsSUFBRixDQUFPLENBQVAsQ0FERztBQUVWOEIsK0JBQWtCL0IsRUFBRUMsSUFBRixDQUFPLENBQVAsQ0FGUjtBQUdWK0Isa0JBQUtoQyxFQUFFQyxJQUFGLENBQU8sQ0FBUCxDQUhLO0FBSVZnQyxrQkFBS2pDLEVBQUVDLElBQUYsQ0FBTyxDQUFQLENBSks7QUFLVmlDLDZCQUFnQmxDLEVBQUVDLElBQUYsQ0FBTyxDQUFQO0FBTE4sV0FBWjtBQU9BSCx3QkFBY1EsSUFBZCxDQUFtQkgsS0FBbkI7QUFDRDtBQUNELGVBQU9MLGFBQVA7QUFDRCxPQVpNLENBQVA7QUFhRDs7Ozs7O2tCQUdZMkIsdUIiLCJmaWxlIjoibWFwYS1pbmZvcm1hY2FvLWNvbm5lY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvY29pY2hlZGlkL1Byb2pldG9zL0Jhc2VBdXRvcml0YXRpdmFBUEkvYmFzZS1hdXRvcml0YXRpdmEtY29ubmVjdG9ycy9zcmMvY29ubmVjdG9ycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2xpZW50fSBmcm9tICdub2RlLXJlc3QtY2xpZW50JztcblxubGV0IGNsaWVudCA9IG5ldyBDbGllbnQoKTtcblxubGV0IGJhc2VTdGF0ZW1lbnRzID0ge1xuICBcImFsbFNpc3RlbWFzXCI6XCJNQVRDSCAodjpgU2lzdGVtYWApIFJFVFVSTiB2IE9SREVSIEJZIHYuIGBJZGVudGlmaWNhZG9yYCBTS0lQIHsgcyB9IExJTUlUIHsgbCB9XCIsXG4gIFwib25lU2lzdGVtYVwiOlwiTUFUQ0ggKHY6YFNpc3RlbWFgKSBXSEVSRSAobG93ZXIodi5gSWRlbnRpZmljYWRvcmApIENPTlRBSU5TICdfU0lTVEVNQV8nIE9SIGxvd2VyKHYuYEPDs2RpZ29gKSBDT05UQUlOUyAnX1NJU1RFTUFfJykgUkVUVVJOIHYgT1JERVIgQlkgdi5gSWRlbnRpZmljYWRvcmAgU0tJUCB7IHMgfSBMSU1JVCB7IGwgfVwiLFxuICBcImFsbFNpc3RlbWFEQlVzZXJzXCI6XCJNQVRDSCAodjpgTG9naW5gKSBXSEVSRSAobG93ZXIodi5gSWRlbnRpZmljYWRvcmApIENPTlRBSU5TICdfU0lTVEVNQV8nIE9SIGxvd2VyKHYuYEPDs2RpZ29gKSBDT05UQUlOUyAnX1NJU1RFTUFfJykgUkVUVVJOIHYgT1JERVIgQlkgdi5gSWRlbnRpZmljYWRvcmAgU0tJUCB7IHMgfSBMSU1JVCB7IGwgfVwiLFxuICBcImFsbFRhYmxlc1JlYWRCeVNpc3RlbWFcIjpcIk1BVENIICh2RnJvbSktW3JdLT4odlRvKSBXSEVSRSAoaWQodkZyb20pIElOIFtfQ09ESUdPU19dIE9SIGlkKHZUbykgSU4gW19DT0RJR09TX10pIEFORCB0eXBlKHIpID0gJ8OpIHVtYSBUYWJlbGEgY29tIGxlaXR1cmEgcGVsbyBMb2dpbicgUkVUVVJOIGlkKHZGcm9tKSwgdkZyb20uYElkZW50aWZpY2Fkb3JgLCB0eXBlKHIpLCBpZCh2VG8pLCB2VG8uYElkZW50aWZpY2Fkb3JgIE9SREVSIEJZIHIudHlwZSwgdkZyb20uYElkZW50aWZpY2Fkb3JgLCB2VG8uYElkZW50aWZpY2Fkb3JgIFNLSVAgeyBzIH0gTElNSVQgeyBsIH1cIlxufVxuLyoqXG4gKiBSZWdpc3RlciBtZXRob2RzIGV4cG9zZWQgb24gTmVvNEpcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9yZWdpc3Rlck1ldGhvZHMoYmFzZVVSTCkge1xuICBjbGllbnQucmVnaXN0ZXJNZXRob2QoJ3F1ZXJ5JywgYmFzZVVSTCArICcvZGIvZGF0YS90cmFuc2FjdGlvbi9jb21taXQnLCAnUE9TVCcpO1xufVxuXG4vKipcbiAqIFByZXBhcmUgYXJndW1lbnRzIGZvciBhIFBPU1QgcmVxdWVzdFxuICogQHBhcmFtICB7c3RyaW5nfSBzdGF0ZW1lbnQgUXVlcnkgc3RhdGVtZW50IHRvIGJlIHBhc3NlZCB0byBOZW80SlxuICogQHBhcmFtICB7b2JqZWN0fSBzdWJzdHR1dGlvbnMgS2V5L1ZhbHVlIG9iamVjdCB3aXRoIHF1ZXJ5IHN1YnN0dHV0aW9uc1xuICogQHBhcmFtICB7c3RyaW5nfSBhdXRoZW50aWNhdGlvbiB0b2tlbiBhdXRoZW50aWNhdGlvblxuICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICAgQXJndW1lbnQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIF9nZXRBcmd1bWVudHMoc3RhdGVtZW50LCBzdWJzdHR1dGlvbnMsIGF1dGhlbnRpY2F0aW9uKSB7XG4gIGxldCBxdWVyeVN0YXRlbWVudCA9IHN0YXRlbWVudDtcbiAgaWYgKHN1YnN0dHV0aW9ucykge1xuICAgIGZvciAobGV0IGtleSBpbiBzdWJzdHR1dGlvbnMpIHtcbiAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAoa2V5LCdnJyk7XG4gICAgICBxdWVyeVN0YXRlbWVudCA9IHF1ZXJ5U3RhdGVtZW50LnJlcGxhY2UocmVnZXgsc3Vic3R0dXRpb25zW2tleV0pO1xuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHtcbiAgICBkYXRhOntcbiAgICAgIHN0YXRlbWVudHM6W1xuICAgICAgICB7XG4gICAgICAgICAgc3RhdGVtZW50OnF1ZXJ5U3RhdGVtZW50LFxuICAgICAgICAgIHBhcmFtZXRlcnM6e3M6MCxsOjEwMDAwfSxcbiAgICAgICAgICByZXN1bHREYXRhQ29udGVudHM6W1wiUkVTVFwiXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICBoZWFkZXJzOiB7XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJ9XG4gIH1cbiAgaWYgKGF1dGhlbnRpY2F0aW9uICE9IFwiXCIpIGFyZ3MuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYXV0aGVudGljYXRpb247XG4gIHJldHVybiBhcmdzO1xufVxuXG4vKipcbiAqIGJhc2UgZnVuY3Rpb24gdG8gcGFyc2UgcmVzdWx0cyBmcm9tIE5lbzRKXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgICAgICAgICAgTmVvNEogcmVzcG9uc2UgZGF0YVxuICogQHBhcmFtICB7ZnVuY3Rpb259IHBhcnNlRnVuY3Rpb24gY3VzdG9tIHBhcnNlIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtBcnJheVtvYmplY3RdfSAgICAgICAgICAgICAgIGFycmF5IG9mIHBhcnNlZCByZXN1bHRzXG4gKi9cbmZ1bmN0aW9uIF9wYXJzZVJlc3VsdHMoZGF0YSwgcGFyc2VGdW5jdGlvbikge1xuICBsZXQgcmVzdWx0cyA9IGRhdGEucmVzdWx0c1swXS5kYXRhO1xuICBsZXQgcGFyc2VkUmVzdWx0cyA9IFtdO1xuICByZXN1bHRzLm1hcCgocik9PntcbiAgICBpZiAocGFyc2VGdW5jdGlvbikgcGFyc2VkUmVzdWx0cyA9IHBhcnNlRnVuY3Rpb24ocixwYXJzZWRSZXN1bHRzKTtcbiAgICBlbHNlIHtcbiAgICAgIGlmICghci5yZXN0IHx8IHIucmVzdC5sZW5ndGggIT0gMSkgcmV0dXJuO1xuICAgICAgbGV0IHJEYXRhID0gci5yZXN0WzBdLmRhdGE7XG4gICAgICByRGF0YVsnaWQnXSA9IHIucmVzdFswXS5tZXRhZGF0YS5pZDtcbiAgICAgIHBhcnNlZFJlc3VsdHMucHVzaChyRGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBhcnNlZFJlc3VsdHM7XG59XG5cbi8qKlxuICogcmVjdXJzaXZlIHZhbGlkYXRpb24gb2YgcmV0dXJuZWQgZGF0YVxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhICAgICAgIGRhdGEgcmV0dXJuZWQgZnJvbSBOZW80SlxuICogQHBhcmFtICB7QXJyYXlbc3RyaW5nXSB8fCBmdW5jdGlvbn0gYXR0cmlidXRlcyBoaWVyYXJjaGFsIG5hbWVzIHRvIGJlIHVzZWQgdG8gY2hlY2sgYSB2YWxpZCByZXNwb25zZSBkYXRhIG9yIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICAgICAgaXMgVmFsaWQgZGF0YVxuICovXG5mdW5jdGlvbiBfdmFsaWRhdGVSZXN1bHRzKGRhdGEsYXR0cmlidXRlcykge1xuICBpZiAoIWF0dHJpYnV0ZXMgfHwgYXR0cmlidXRlcy5sZW5ndGggPT0gMCkgcmV0dXJuIHRydWU7XG4gIGxldCB2YWxpZFBvc2l0aW9uID0gZmFsc2U7XG4gIGxldCBuZXdEYXRhID0gZGF0YTtcbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzWzBdID09PSAnZnVuY3Rpb24nKSB2YWxpZFBvc2l0aW9uID0gYXR0cmlidXRlc1swXShkYXRhKTtcbiAgZWxzZSB7XG4gICAgdmFsaWRQb3NpdGlvbiA9IGRhdGFbYXR0cmlidXRlc1swXV07XG4gICAgbmV3RGF0YSA9IGRhdGFbYXR0cmlidXRlc1swXV07XG4gIH1cbiAgcmV0dXJuIHZhbGlkUG9zaXRpb24/X3ZhbGlkYXRlUmVzdWx0cyhuZXdEYXRhLGF0dHJpYnV0ZXMuc2xpY2UoMSkpOmZhbHNlO1xufVxuXG4vKipcbiAqIEJhc2UgZnVuY3Rpb24gdG8gY29ubmVjdCB0byBOZW80SiBhbmQgZ2V0IHJlc3VsdHNcbiAqIEBwYXJhbSAge3N0cmluZ30gYWN0aW9uICAgICAgICBuYW1lIG9mIHJlbW90ZSBtZXRob2QgcmVnaXN0ZXJlZCBvbiBjbGllbnRcbiAqIEBwYXJhbSAge29iamVjdH0gYXJncyAgICAgICAgICBwYXJhbWV0ZXJzIHRvIGJlIHBhc3NlZCBvbiBxdWVyeSBzdHJpbmdcbiAqIEBwYXJhbSAge29iamVjdH0gcGF5bG9hZCAgICAgICBkYXRhIHRvIGJlIHNlcmlhbGl6ZWQgYW5kIHBhc3NlZCBvbiBhIFBPU1QgYWN0aW9uXG4gKiBAcGFyYW0gIHtvYmplY3R9IHBheWxvYWRQYXJhbXMgS2V5L1ZhbHVlIG9iamVjdCB3aXRoIHF1ZXJ5IHN1YnN0dHV0aW9uc1xuICogQHBhcmFtICB7c3RyaW5nfSBhdXRoZW50aWNhdGlvbiB0b2tlbiBhdXRoZW50aWNhdGlvblxuICogQHBhcmFtICB7QXJyYXlbc3RyaW5nXX0gdmFsaWRhdGlvbiAgICBoaWVyYXJjaGFsIG5hbWVzIHRvIGJlIHVzZWQgdG8gY2hlY2sgYSB2YWxpZCByZXNwb25zZSBkYXRhXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gcGFyc2VGdW5jdGlvbiBVc2VkIHRvIHBhcnNlIHJldHVybmVkIGRhdGEuIElmIG51bGwsIHJhdyBkYXRhIGlzIHJldHVybmVkXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgIGEgUHJvbWlzZSB0byByZXF1ZXN0ZWQgbWV0aG9kIHJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gX2ZldGNoUmVzdWx0cyhhY3Rpb24sIGFyZ3MsIHBheWxvYWQsIHBheWxvYWRQYXJhbXMsIGF1dGhlbnRpY2F0aW9uLCB2YWxpZGF0aW9uLCBwYXJzZUZ1bmN0aW9uKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBwYXlsb2FkRGF0YSA9IF9nZXRBcmd1bWVudHMocGF5bG9hZCxwYXlsb2FkUGFyYW1zLGF1dGhlbnRpY2F0aW9uKTtcbiAgICBjbGllbnQubWV0aG9kc1thY3Rpb25dKHBheWxvYWREYXRhLCAoZGF0YSwgcmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChkYXRhLmVycm9ycyAmJiBkYXRhLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlamVjdChkYXRhLmVycm9ycyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFkYXRhIHx8ICFfdmFsaWRhdGVSZXN1bHRzKGRhdGEsdmFsaWRhdGlvbikpIHtcbiAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsZXQgcGFyc2VkRGF0YSA9IF9wYXJzZVJlc3VsdHMoZGF0YSxwYXJzZUZ1bmN0aW9uKTtcbiAgICAgICAgICByZXNvbHZlKHBhcnNlZERhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0gKTtcbn1cblxuLyoqXG4gKiBDb25uZWN0b3IgdG8gTWFwYSBkYSBJbmZvcm1hY2FvIHN5c3RlbVxuICogQHR5cGUge2NsYXNzfVxuICovXG5jbGFzcyBNYXBhSW5mb3JtYWNhb0Nvbm5lY3RvciB7XG4gIGNvbnN0cnVjdG9yKGJhc2VVUkwsIGF1dGhlbnRpY2F0aW9uKSB7XG4gICAgdGhpcy5hdXRoZW50aWNhdGlvbiA9IGF1dGhlbnRpY2F0aW9uO1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgX3JlZ2lzdGVyTWV0aG9kcyh0aGlzLmJhc2VVUkwpO1xuICB9XG5cbiAgLyoqXG4gICAqIGxpc3QgYWxsIHNpc3RlbWFzIG9mIE1hcGEgZGEgSW5mb3JtYcOnw6NvXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdG8gcmVxdWVzdGVkIG1ldGhvZCByZXN1bHRzXG4gICAqL1xuICBnZXRBbGxTaXN0ZW1hcygpIHtcbiAgICBsZXQgc3RhdGVtZW50ID0gYmFzZVN0YXRlbWVudHNbJ2FsbFNpc3RlbWFzJ107XG4gICAgcmV0dXJuIF9mZXRjaFJlc3VsdHMoJ3F1ZXJ5Jywge30sIHN0YXRlbWVudCwge30sIHRoaXMuYXV0aGVudGljYXRpb24sIFsoZGF0YSkgPT4geyByZXR1cm4gKGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID09IDEgJiYgZGF0YS5yZXN1bHRzWzBdLmRhdGEgJiYgZGF0YS5yZXN1bHRzWzBdLmRhdGEubGVuZ3RoID4gMCk7IH1dKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQganVzdCBvbmUgc2lzdGVtYSBmcm9tIE1hcGEgZGEgSW5mb3JtYcOnw6NvIGJhc2VkIG9uIFNpc3RlbWEgbmFtZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHNpc3RlbWEgTmFtZSBvZiBzaXN0ZW1hXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgcHJvbWlzZSB0byByZXF1ZXN0ZWQgbWV0aG9kIHJlc3VsdHNcbiAgICovXG4gIGdldFNpc3RlbWEoc2lzdGVtYSkge1xuICAgIGlmICghc2lzdGVtYSB8fCBzaXN0ZW1hLmxlbmd0aCA9PSAwKSByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLHJlamVjdCkgPT4gcmVqZWN0KCdJbnZhbGlkIGFyZ3VtZW50JykgKTtcbiAgICBsZXQgbHdTaXN0ZW1hID0gc2lzdGVtYS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBzdGF0ZW1lbnQgPSBiYXNlU3RhdGVtZW50c1snb25lU2lzdGVtYSddO1xuICAgIHJldHVybiBfZmV0Y2hSZXN1bHRzKCdxdWVyeScse30sc3RhdGVtZW50LHsnX1NJU1RFTUFfJzpsd1Npc3RlbWF9LHRoaXMuYXV0aGVudGljYXRpb24sWyhkYXRhKSA9PiB7IHJldHVybiAoZGF0YS5yZXN1bHRzICYmIGRhdGEucmVzdWx0cy5sZW5ndGggPT0gMSAmJiBkYXRhLnJlc3VsdHNbMF0uZGF0YSAmJiBkYXRhLnJlc3VsdHNbMF0uZGF0YS5sZW5ndGggPiAwKTsgfV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhbGwgZGF0YWJhc2UgdXNlcnMgb2YgYSBzaXN0ZW1hXG4gICAqIEBwYXJhbSAge3N0cmluZ30gc2lzdGVtYSBOYW1lIG9mIHNpc3RlbWFcbiAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICBwcmltaXNlIHRvIHJlcXVlc3RlZCBtZXRob2QgcmVzdWx0c1xuICAgKi9cbiAgZ2V0QWxsU2lzdGVtYURiVXNlcnMoc2lzdGVtYSkge1xuICAgIGlmICghc2lzdGVtYSB8fCBzaXN0ZW1hLmxlbmd0aCA9PSAwKSByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLHJlamVjdCkgPT4gcmVqZWN0KCdJbnZhbGlkIGFyZ3VtZW50JykgKTtcbiAgICBsZXQgbHdTaXN0ZW1hID0gc2lzdGVtYS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBzdGF0ZW1lbnQgPSBiYXNlU3RhdGVtZW50c1snYWxsU2lzdGVtYURCVXNlcnMnXTtcbiAgICByZXR1cm4gX2ZldGNoUmVzdWx0cygncXVlcnknLHt9LCBzdGF0ZW1lbnQsIHsnX1NJU1RFTUFfJzogbHdTaXN0ZW1hfSwgdGhpcy5hdXRoZW50aWNhdGlvbiwgWyhkYXRhKSA9PiB7IHJldHVybiAoZGF0YS5yZXN1bHRzICYmIGRhdGEucmVzdWx0cy5sZW5ndGggPT0gMSAmJiBkYXRhLnJlc3VsdHNbMF0uZGF0YSAmJiBkYXRhLnJlc3VsdHNbMF0uZGF0YS5sZW5ndGggPiAwKTsgfV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhIGxpc3Qgb2YgdGFibGVzIHdpdGggUkVBRCBhY2Nlc3MgZnJvbSBhIGxpc3Qgb2YgdXNlcnNcbiAgICogQHBhcmFtICB7QXJyYXlbc3RyaW5nXX0gdXNlcnMgbGlzdCBvZiB1c2Vyc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgIHByb21pc2Ugb2YgcmVxdWVzdGVkIG1ldGhvZCByZXN1bHRzXG4gICAqL1xuICBnZXRUYWJsZXNSZWFkQnlVc2VyKHVzZXJzKSB7IFxuICAgIGlmICghdXNlcnMgfHwgdXNlcnMubGVuZ3RoID09IDApIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUscmVqZWN0KSA9PiByZWplY3QoJ0ludmFsaWQgYXJndW1lbnQnKSApO1xuICAgIGxldCBzdGF0ZW1lbnQgPSBiYXNlU3RhdGVtZW50c1snYWxsVGFibGVzUmVhZEJ5U2lzdGVtYSddO1xuICAgIHJldHVybiBfZmV0Y2hSZXN1bHRzKCdxdWVyeScse30sIHN0YXRlbWVudCwgeydfQ09ESUdPU18nOiB1c2Vyc30sIHRoaXMuYXV0aGVudGljYXRpb24sIFsoZGF0YSkgPT4geyByZXR1cm4gKGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID09IDEgJiYgZGF0YS5yZXN1bHRzWzBdLmRhdGEgJiYgZGF0YS5yZXN1bHRzWzBdLmRhdGEubGVuZ3RoID4gMCk7IH1dLCAocixwYXJzZWRSZXN1bHRzKSA9PiB7XG4gICAgICBpZiAoci5yZXN0ICYmIHIucmVzdC5sZW5ndGggPT0gNSkge1xuICAgICAgICBsZXQgckRhdGEgPSB7XG4gICAgICAgICAgZnJvbUlkOnIucmVzdFswXSxcbiAgICAgICAgICBmcm9tSWRlbnRpZmljYWRvcjpyLnJlc3RbMV0sXG4gICAgICAgICAgdmVyYjpyLnJlc3RbMl0sXG4gICAgICAgICAgdG9JZDpyLnJlc3RbM10sXG4gICAgICAgICAgdG9JZGVudGlmaWNhZG9yOnIucmVzdFs0XVxuICAgICAgICB9XG4gICAgICAgIHBhcnNlZFJlc3VsdHMucHVzaChyRGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyc2VkUmVzdWx0cztcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBhSW5mb3JtYWNhb0Nvbm5lY3RvcjtcbiJdfQ==",
  "hash": "ee28bf43c4eabfa29a3c592f025488bf"
}
